#include "synapse/arch/cortex/cm3/vector_table.h"
#include "synapse/arch/cortex/cm3/nvic.h"

__attribute__((section(".isr_vector")))
struct vector_table vec_table = {
  .sp = (u32*) &_stack,
  .reset = _reset,
  .nmi = nmi_handler,
  .hard_fault = hard_fault_handler,
  .memory_manage_fault = memory_fault_handler,
  .bus_fault = bus_fault_handler,
  .usage_fault = usage_fault_handler,
  .sv_call = sv_call_handler,
  .debug_monitor = debug_monitor_handler,
  .pend_sv = pend_sv_handler,
  .systick = systick_handler,
  .irq = {
    [NVIC_IRQ_WWDG]          = wwdg_isr,
    [NVIC_IRQ_PVD]           = pvd_isr,
    [NVIC_IRQ_TAMPER]        = tamper_isr,
    [NVIC_IRQ_RTC]           = rtc_isr,
    [NVIC_IRQ_FLASH]         = flash_isr,
    [NVIC_IRQ_RCC]           = rcc_isr,
    [NVIC_IRQ_EXTI0]         = exti0_isr,
    [NVIC_IRQ_EXTI1]         = exti1_isr,
    [NVIC_IRQ_EXTI2]         = exti2_isr,
    [NVIC_IRQ_EXTI3]         = exti3_isr,
    [NVIC_IRQ_EXTI4]         = exti4_isr,
    [NVIC_IRQ_DMA1_CHANNEL1] = dma1_ch1_isr,
    [NVIC_IRQ_DMA1_CHANNEL2] = dma1_ch2_isr,
    [NVIC_IRQ_DMA1_CHANNEL3] = dma1_ch3_isr,
    [NVIC_IRQ_DMA1_CHANNEL4] = dma1_ch4_isr,
    [NVIC_IRQ_DMA1_CHANNEL5] = dma1_ch5_isr,
    [NVIC_IRQ_DMA1_CHANNEL6] = dma1_ch6_isr,
    [NVIC_IRQ_DMA1_CHANNEL7] = dma1_ch7_isr,
    [NVIC_IRQ_ADC1_2]        = adc1_2_isr,
    [NVIC_IRQ_CAN1_TX]       = can1_tx_isr,
    [NVIC_IRQ_CAN1_RX0]      = can1_rx0_isr,
    [NVIC_IRQ_CAN1_RX1]      = can1_rx1_isr,
    [NVIC_IRQ_CAN1_SCE]      = can1_sce_isr,
    [NVIC_IRQ_EXTI9_5]       = exti9_5_isr,
    [NVIC_IRQ_TIM1_BRK]      = tim1_brk_isr,
    [NVIC_IRQ_TIM1_UP]       = tim1_up_isr,
    [NVIC_IRQ_TIM1_TRG_COM]  = tim1_trg_com_isr,
    [NVIC_IRQ_TIM1_CC]       = tim1_cc_isr,
    [NVIC_IRQ_TIM2]          = tim2_isr,
    [NVIC_IRQ_TIM3]          = tim3_isr,
    [NVIC_IRQ_TIM4]          = tim4_isr,
    [NVIC_IRQ_I2C1_EV]       = i2c1_ev_isr,
    [NVIC_IRQ_I2C1_ER]       = i2c1_er_isr,
    [NVIC_IRQ_I2C2_EV]       = i2c2_ev_isr,
    [NVIC_IRQ_I2C2_ER]       = i2c2_er_isr,
    [NVIC_IRQ_SPI1]          = spi1_isr,
    [NVIC_IRQ_SPI2]          = spi2_isr,
    [NVIC_IRQ_USART1]        = usart1_isr,
    [NVIC_IRQ_USART2]        = usart2_isr,
    [NVIC_IRQ_USART3]        = usart3_isr,
    [NVIC_IRQ_EXTI15_10]     = exti15_10_isr,
    [NVIC_IRQ_RTC_ALARM]     = rtc_alarm_isr,
    [NVIC_IRQ_OTG_FS_WKUP]   = otg_fs_wkup_isr,
    [NVIC_IRQ_TIM5]          = tim5_isr,
    [NVIC_IRQ_SPI3]          = spi3_isr,
    [NVIC_IRQ_UART4]         = uart4_isr,
    [NVIC_IRQ_UART5]         = uart5_isr,
    [NVIC_IRQ_TIM6]          = tim6_isr,
    [NVIC_IRQ_TIM7]          = tim7_isr,
    [NVIC_IRQ_DMA2_CHANNEL1] = dma2_ch1_isr,
    [NVIC_IRQ_DMA2_CHANNEL2] = dma2_ch2_isr,
    [NVIC_IRQ_DMA2_CHANNEL3] = dma2_ch3_isr,
    [NVIC_IRQ_DMA2_CHANNEL4] = dma2_ch4_isr,
    [NVIC_IRQ_DMA2_CHANNEL5] = dma2_ch5_isr,
    [NVIC_IRQ_ETH]           = eth_isr,
    [NVIC_IRQ_ETH_WKUP]      = eth_wkup_isr,
    [NVIC_IRQ_CAN2_TX]       = can2_tx_isr,
    [NVIC_IRQ_CAN2_RX0]      = can2_rx0_isr,
    [NVIC_IRQ_CAN2_RX1]      = can2_rx1_isr,
    [NVIC_IRQ_CAN2_SCE]      = can2_sce_isr,
    [NVIC_IRQ_OTG_FS]        = otg_fs_isr
  }
};

